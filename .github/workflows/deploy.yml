name: Deploy

on:
  release:
    types: [published]

jobs:
  deploy:
    runs-on: ubuntu-latest
    timeout-minutes: 20
    
    steps:
    - name: Checkout code
      uses: actions/checkout@v4
      
    - name: Deploy Notification
      run: |
        echo "π€ NumberOCR v${{ github.event.release.tag_name }} λ°°ν¬ μ™„λ£!"
        echo "π“± APK νμΌ: ${{ github.event.release.assets[0].browser_download_url }}"
        echo "π“‹ λ¦΄λ¦¬μ¦ λ…ΈνΈ: ${{ github.event.release.body }}"
        
    - name: Success Summary
      run: |
        echo "## π‰ λ°°ν¬ μ™„λ£!" >> $GITHUB_STEP_SUMMARY
        echo "" >> $GITHUB_STEP_SUMMARY
        echo "### π“± NumberOCR v${{ github.event.release.tag_name }}" >> $GITHUB_STEP_SUMMARY
        echo "- **λ¦΄λ¦¬μ¦**: ${{ github.event.release.html_url }}" >> $GITHUB_STEP_SUMMARY
        echo "- **APK λ‹¤μ΄λ΅λ“**: ${{ github.event.release.assets[0].browser_download_url }}" >> $GITHUB_STEP_SUMMARY
        echo "" >> $GITHUB_STEP_SUMMARY
        echo "### π“‹ μ„¤μΉ λ°©λ²•:" >> $GITHUB_STEP_SUMMARY
        echo "1. APK νμΌ λ‹¤μ΄λ΅λ“" >> $GITHUB_STEP_SUMMARY
        echo "2. Android μ„¤μ •μ—μ„ 'μ• μ μ—†λ” μ†μ¤' ν™μ„±ν™”" >> $GITHUB_STEP_SUMMARY
        echo "3. APK νμΌ μ„¤μΉ" >> $GITHUB_STEP_SUMMARY 